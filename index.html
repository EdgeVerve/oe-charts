<!DOCTYPE html>
<html>

<head>
    <title></title>
    <meta http-equiv="content-type" content="text/html; charset=UTF8">
    <style>
        .tipsy {
            opacity: 1 !important;
        }

        .tipsy-inner {
            background-color: #FFF !important;
            color: #000 !important;
            max-width: 150px !important;
            text-align: center !important;
            padding: 0;
            border-radius: 10px;
        }

        .tipsy-arrow {
            display: none !important;
        }

        oe-chart {
            width: 300px;
            height: 300px;
        }

        .header {
            display: flex;
            align-items: baseline;
        }

        .header h3 {
            padding: 0px 16px;
        }

        .chart-container {
            height: 300px;
            width: 300px;
            border: 1px solid blue;
            overflow: auto;
            resize: both;
        }
    </style>
    <link rel="import" href="oe-charts.html">

</head>

<body>
    <div id="container">
        <div class="header">
            <h3>Chart Type</h3>
            <select selected="groupedColumn" onchange="demoControl.typeFn(event)">
                <option value="area">Area</option>
                <option value="bubble">Bubble</option>
                <option value="groupedbar">Grouped Bar</option>
                <option value="groupedcolumn" selected>Grouped Column</option>
                <option value="line">Line</option>
                <option value="normalizedstackedcolumn">Normalized Stacked Column</option>
                <option value="pareto">Pareto</option>
                <option value="pie">Pie </option>
                <option value="donut">Donut</option>
                <option value="stackedbar">Stacked Bar</option>
                <option value="stackedcolumn">Stacked Column</option>
                <option value="mapview">Map View</option>
			</select>
            <h3>Chart Width</h3>
            <input onchange="demoControl.widthFn(event)" value="300" />
            <h3>Chart Height</h3>
            <input onchange="demoControl.heightFn(event)" value="300" />
            <h3>Inherit Parent</h3>
            <input type="checkbox" onchange="demoControl.inheritFn(event)" />
        </div>
        <div class="chart-container">
            <oe-charts id="chart-ele" chart-type="groupedcolumn"></oe-charts>
        </div>
    </div>
    <script type="text/javascript" src="locationdata.js"></script>
    <script>
        var demoControl = (function () {
            var chart = document.getElementById("chart-ele");
            function getRandomData(num) {
                return Math.random() * num;
            }
            function chartTypeChanged(e) {
                chart.setAttribute('chart-type', e.currentTarget.value);
            }
            function changeInheritance(e) {
                if (e.currentTarget.checked) {
                    chart.setAttribute('inherit-parent-dimension', '');
                } else {
                    chart.removeAttribute('inherit-parent-dimension');
                }
            }
            function chartWidthChanged(e) {
                chart.setAttribute('chart-width', e.target.value);
            }
            function chartHeightChanged(e) {
                chart.setAttribute('chart-height', e.target.value);
            }

            var sampledata = [
                {
                    country: "United States",
                    state: 'california',
                    population: getRandomData(1000000),
                    area: getRandomData(1000000)
                }, {
                    country: "United States",
                    state: 'florida',
                    population: getRandomData(1000000),
                    area: getRandomData(1000000)
                }, {
                    country: "United States",
                    state: 'alaska',
                    population: getRandomData(1000000),
                    area: getRandomData(1000000)
                }, {
                    country: "United States",
                    state: 'texas',
                    population: getRandomData(1000000),
                    area: getRandomData(1000000)
                }, {
                    country: 'India',
                    state: 'mumbai',
                    population: getRandomData(1000000),
                    area: getRandomData(1000000)
                }, {
                    country: 'India',
                    state: 'delhi',
                    population: getRandomData(1000000),
                    area: getRandomData(1000000)
                }, {
                    country: 'India',
                    state: 'karnatka',
                    population: getRandomData(1000000),
                    area: getRandomData(1000000)
                }, {
                    country: 'India',
                    state: 'punjab',
                    population: getRandomData(1000000),
                    area: getRandomData(1000000)
                }, {
                    country: 'China',
                    state: 'hainan',
                    population: getRandomData(1000000),
                    area: getRandomData(1000000)
                }, {
                    country: 'China',
                    state: 'yunnan',
                    population: getRandomData(1000000),
                    area: getRandomData(1000000)
                }, {
                    country: 'China',
                    state: 'fujian',
                    population: getRandomData(1000000),
                    area: getRandomData(1000000)
                }, {
                    country: 'China',
                    state: 'shandong',
                    population: getRandomData(1000000),
                    area: getRandomData(1000000)
                }, {
                    country: 'China',
                    state: 'jilin',
                    population: getRandomData(1000000),
                    area: getRandomData(1000000)
                }];

            function loadRender() {
                chart.setAttribute('category', 'country');
                chart.setAttribute('series', JSON.stringify([{
                    "property": "population",
                    "aggregation": "sum",
                    "color": "red"
                }, {
                    "property": "area",
                    "aggregation": "sum",
                    "color": "green"
                }]));
                chart.setAttribute('data', JSON.stringify(sampledata));

                /*chart.setAttribute('category', 'name');
                chart.setAttribute('series', JSON.stringify([{
                    "property": "age",
                    "color": "rgb(94, 101, 233)"
                }]));
                chart.setAttribute('data-url', "http://localhost:3000/api/Students");*/
            }

            return {
                loadFn: loadRender,
                typeFn: chartTypeChanged,
                widthFn: chartWidthChanged,
                heightFn: chartHeightChanged,
                inheritFn: changeInheritance
            }
        })()



        document.body.onload = demoControl.loadFn;
    </script>
</body>

</html>