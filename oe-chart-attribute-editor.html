<link rel="import" href="../oe-studio/styles/oe-studio-styles.html">
<link rel="import" href="../oe-studio/ui-designer/custom-attrib-container.html">
<dom-module id="oe-chart-attribute-editor">
<template>
    <style include="oe-studio-styles">
    :host{
        display: block;
        position: relative;
    }
    .attribute-fields{
        padding: 8px 16px;
    }
    custom-attrib-container{
        padding-bottom: 8px;
        border-bottom: 1px solid var(--default-primary-color);
    }
    </style>
    <div class="attribute-fields">
        <custom-attrib-container attrib="{{elementConfig.chartType}}">
            <oe-combo value="{{elementConfig.chartType.value}}" listdata="[[chartList]]" displayproperty="label" valueproperty="value" no-label-float class="attr-input" attr-id="chartType" on-change="_updateAttribValue"></oe-combo>
        </custom-attrib-container>
        <custom-attrib-container attrib="{{elementConfig.category}}">
            <oe-input value="{{elementConfig.category.value}}" no-label-float class="attr-input" attr-id="category" on-change="_updateAttribValue"></oe-input>
        </custom-attrib-container>
        <custom-attrib-container attrib="{{elementConfig.series}}">
            <oe-json-input value="{{elementConfig.series.value}}" no-label-float class="attr-input" attr-id="series" on-change="_updateAttribValue"></oe-json-input>
        </custom-attrib-container>
        <custom-attrib-container attrib="{{elementConfig.data}}">
            <oe-json-input value="{{elementConfig.data.value}}" no-label-float class="attr-input" attr-id="data" on-change="_updateAttribValue"></oe-json-input>
        </custom-attrib-container>
        <custom-attrib-container attrib="{{elementConfig.dataUrl}}">
            <oe-input value="{{elementConfig.dataUrl.value}}" no-label-float class="attr-input" attr-id="dataUrl" on-change="_updateAttribValue"></oe-input>
        </custom-attrib-container>
        <custom-attrib-container attrib="{{elementConfig.categoryAggregator}}">
            <oe-input value="{{elementConfig.categoryAggregator.value}}" no-label-float class="attr-input" attr-id="categoryAggregator" on-change="_updateAttribValue"></oe-input>
        </custom-attrib-container>
        <custom-attrib-container attrib="{{elementConfig.categorylabelFormat}}">
            <oe-input value="{{elementConfig.categorylabelFormat.value}}" no-label-float class="attr-input" attr-id="categorylabelFormat" on-change="_updateAttribValue"></oe-input>
        </custom-attrib-container>
        <custom-attrib-container attrib="{{elementConfig.noDataMessage}}">
            <oe-input value="{{elementConfig.noDataMessage.value}}" no-label-float class="attr-input" attr-id="noDataMessage" on-change="_updateAttribValue"></oe-input>
        </custom-attrib-container>
        <custom-attrib-container attrib="{{elementConfig.chartHeight}}">
            <oe-decimal min="200" value="{{elementConfig.chartHeight.value}}" no-label-float class="attr-input" attr-id="chartHeight" on-change="_updateAttribValue"></oe-decimal>
        </custom-attrib-container>
        <custom-attrib-container attrib="{{elementConfig.chartWidth}}">
            <oe-decimal min="200" value="{{elementConfig.chartWidth.value}}" no-label-float class="attr-input" attr-id="chartWidth" on-change="_updateAttribValue"></oe-decimal>
        </custom-attrib-container>
        <custom-attrib-container attrib="{{elementConfig.inheritParentDimension}}">
            <oe-checkbox value="{{elementConfig.inheritParentDimension.value}}" class="attr-input" attr-id="inheritParentDimension" on-change="_updateAttribValue"></oe-checkbox>
        </custom-attrib-container>
    </div>
</template>
<script>
    Polymer({
        is:"oe-chart-attribute-editor",
        properties:{
            elementConfig:{
                type:Object
            },
            chartList:{
                type:Array,
                readOnly:true,
                value : function(){
                return [
                        {
                            "label": "Area",
                            "value": "area"
                        },
                        {
                            "label": "Bubble",
                            "value": "bubble"
                        },
                        {
                            "label": "Grouped Bar",
                            "value": "groupedbar"
                        },
                        {
                            "label": "Grouped Column",
                            "value": "groupedcolumn"
                        },
                        {
                            "label": "Line",
                            "value": "line"
                        },
                        {
                            "label": "Normalized Stacked Column",
                            "value": "normalizedstackedcolumn"
                        },
                        {
                            "label": "Pareto",
                            "value": "pareto"
                        },
                        {
                            "label": "Pie",
                            "value": "pie"
                        },
                        {
                            "label": "Donut",
                            "value": "donut"
                        },
                        {
                            "label": "Stacked Bar",
                            "value": "stackedbar"
                        },
                        {
                            "label": "Stacked Column",
                            "value": "stackedcolumn"
                        },
                        {
                            "label": "Map View",
                            "value": "mapview"
                        }
                    ];
                }
            }
        },
        _updateAttribValue:function(e){
            var field = e.currentTarget.getAttribute('attr-id');
            var obj = this.elementConfig[field];
            if(e.currentTarget.validate()){
                this.fire('update-attribute',obj);
            }
        }
    });
    </script>
</dom-module>